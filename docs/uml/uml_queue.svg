<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="323px" preserveAspectRatio="none" style="width:294px;height:323px;" version="1.1" viewBox="0 0 294 323" width="294px" zoomAndPan="magnify"><defs><filter height="300%" id="fpfuqxvql14hw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="228" x="36.5" y="19.2419">Queue FIFO — Thread-Safe</text><!--MD5=[60f06b35a0f5deceb5cd62530a042712]
class queue_t--><rect fill="#FEFECE" filter="url(#fpfuqxvql14hw)" height="152.8732" id="queue_t" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="60" y="32.5158"/><ellipse cx="120.25" cy="48.5158" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M123.2188,54.1565 Q122.6406,54.4533 122,54.594 Q121.3594,54.7502 120.6563,54.7502 Q118.1563,54.7502 116.8281,53.1096 Q115.5156,51.4533 115.5156,48.3283 Q115.5156,45.2033 116.8281,43.5471 Q118.1563,41.8908 120.6563,41.8908 Q121.3594,41.8908 122,42.0471 Q122.6563,42.2033 123.2188,42.5002 L123.2188,45.219 Q122.5938,44.6408 122,44.3752 Q121.4063,44.094 120.7813,44.094 Q119.4375,44.094 118.75,45.1721 Q118.0625,46.2346 118.0625,48.3283 Q118.0625,50.4221 118.75,51.5002 Q119.4375,52.5627 120.7813,52.5627 Q121.4063,52.5627 122,52.2971 Q122.5938,52.0158 123.2188,51.4377 L123.2188,54.1565 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="140.75" y="53.1719">queue_t</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="61" x2="232" y1="64.5158" y2="64.5158"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="68" y="72.5158"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="80" y="80.2748">capacity : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="68" y="87.4977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="80" y="95.2566">buffer : void**</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="68" y="102.4796"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="80" y="110.2385">head : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="68" y="117.4615"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="80" y="125.2204">tail : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="68" y="132.4434"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="80" y="140.2023">count : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="68" y="147.4253"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="80" y="155.1842">mutex : pthread_mutex_t</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="68" y="162.4072"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="80" y="170.1661">not_empty : pthread_cond_t</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="61" x2="232" y1="177.3891" y2="177.3891"/><!--MD5=[b3bd036cad22ad6cc01a4326f80121d9]
class pthread_mutex_t--><rect fill="#FEFECE" filter="url(#fpfuqxvql14hw)" height="48" id="pthread_mutex_t" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="6" y="264.5158"/><ellipse cx="21" cy="280.5158" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M23.9688,286.1565 Q23.3906,286.4533 22.75,286.594 Q22.1094,286.7502 21.4063,286.7502 Q18.9063,286.7502 17.5781,285.1096 Q16.2656,283.4533 16.2656,280.3283 Q16.2656,277.2033 17.5781,275.5471 Q18.9063,273.8908 21.4063,273.8908 Q22.1094,273.8908 22.75,274.0471 Q23.4063,274.2033 23.9688,274.5002 L23.9688,277.219 Q23.3438,276.6408 22.75,276.3752 Q22.1563,276.094 21.5313,276.094 Q20.1875,276.094 19.5,277.1721 Q18.8125,278.2346 18.8125,280.3283 Q18.8125,282.4221 19.5,283.5002 Q20.1875,284.5627 21.5313,284.5627 Q22.1563,284.5627 22.75,284.2971 Q23.3438,284.0158 23.9688,283.4377 L23.9688,286.1565 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="35" y="285.1719">pthread_mutex_t</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="130" y1="296.5158" y2="296.5158"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="130" y1="304.5158" y2="304.5158"/><!--MD5=[cf2082f6670e4357f8b97f969c8b7f87]
class pthread_cond_t--><rect fill="#FEFECE" filter="url(#fpfuqxvql14hw)" height="48" id="pthread_cond_t" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="166" y="264.5158"/><ellipse cx="181" cy="280.5158" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M183.9688,286.1565 Q183.3906,286.4533 182.75,286.594 Q182.1094,286.7502 181.4063,286.7502 Q178.9063,286.7502 177.5781,285.1096 Q176.2656,283.4533 176.2656,280.3283 Q176.2656,277.2033 177.5781,275.5471 Q178.9063,273.8908 181.4063,273.8908 Q182.1094,273.8908 182.75,274.0471 Q183.4063,274.2033 183.9688,274.5002 L183.9688,277.219 Q183.3438,276.6408 182.75,276.3752 Q182.1563,276.094 181.5313,276.094 Q180.1875,276.094 179.5,277.1721 Q178.8125,278.2346 178.8125,280.3283 Q178.8125,282.4221 179.5,283.5002 Q180.1875,284.5627 181.5313,284.5627 Q182.1563,284.5627 182.75,284.2971 Q183.3438,284.0158 183.9688,283.4377 L183.9688,286.1565 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="195" y="285.1719">pthread_cond_t</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="167" x2="282" y1="296.5158" y2="296.5158"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="167" x2="282" y1="304.5158" y2="304.5158"/><!--MD5=[b9d11d5098ce398373be2f08e47d2987]
link queue_t to pthread_mutex_t--><path d="M113.31,185.5458 C101.72,211.9258 89.42,239.9058 80.65,259.8658 " fill="none" id="queue_t-&gt;pthread_mutex_t" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="78.61,264.5058,85.8994,257.8828,80.6261,259.9303,78.5785,254.657,78.61,264.5058" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="99.5" y="230.4129">lock/unlock</text><!--MD5=[a382e9443af8948a7e6560237f5f37e2]
link queue_t to pthread_cond_t--><path d="M179.69,185.5458 C191.28,211.9258 203.58,239.9058 212.35,259.8658 " fill="none" id="queue_t-&gt;pthread_cond_t" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="214.39,264.5058,214.4215,254.657,212.3739,259.9303,207.1006,257.8828,214.39,264.5058" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="199.5" y="230.4129">wait/signal</text><!--MD5=[bde44984019a9857977b83308a3c8171]
@startuml
title Queue FIFO — Thread-Safe

class queue_t {
    - capacity : int
    - buffer : void**
    - head : int
    - tail : int
    - count : int
    - mutex : pthread_mutex_t
    - not_empty : pthread_cond_t
}

queue_t - -> pthread_mutex_t : lock/unlock
queue_t - -> pthread_cond_t : wait/signal

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.9+10-Ubuntu-124.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>