@startuml
title Séquence – Serveur TCP Multi-thread (serveur_multi.c)

actor Client
participant "Dispatcher\n(accept loop)" as D
participant "queue FIFO" as Q
participant "Worker[i]" as W

Client -> D : TCP connect()
D -> D : accept()
D -> Q : queue_push(fd_ptr)

loop jusqu'à traitement
    W -> Q : queue_pop()
    Q --> W : fd_ptr
end

W -> W : recv(number)
W -> W : traitement_lourd()
W -> W : compute result + timestamp
W -> Client : send(result, ts)
W -> W : close(fd)

@enduml